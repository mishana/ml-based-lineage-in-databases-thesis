\begin{figure}[htb]
    \centering
    % \caption{Materialized Views Hierarchy - BFPDB Dataset}
    % \label{fig:materialized_views}
\begin{tikzpicture}[sibling distance=10em,
  edge from parent/.style={->,draw},
  every edge/.style={->,draw}
  ]]
%   \node(exp_4) [, color=Fuchsia] {$exp_4$}
%     child { node(exp_1) [, color=Fuchsia] {$exp_1$}
%       }
%     child { node(exp_2) [, color=Fuchsia] {$exp_2$}
%       }
%     child [missing]
%       ;
    
    \node(exp_4) [color=Salmon] {$\texttt{exp}\sb\texttt{4}$};
    \node(exp_2) [below=of exp_4, color={CarnationPink}] {$\texttt{exp}\sb\texttt{2}$};
    \node(exp_1) [left=of exp_2, color={CarnationPink}] {$\texttt{exp}\sb\texttt{1}$};
    \node(exp_3) [right=of exp_2, color={CarnationPink}] {$\texttt{exp}\sb\texttt{3}$};
    
    \draw (exp_4) edge (exp_2);
    % \draw (exp_4) edge (exp_1);
      
    \node(protein) [below=of exp_2, color=Orchid] {$\texttt{protein}$};
    \node(prepared) [below=of exp_1, left=of protein, color=Orchid] {$\texttt{prepared}$};
    \node(unprepared) [below=of exp_3, right=of protein, color=Orchid] {$\texttt{unprepared}$};
      
    \draw (exp_1) edge (prepared);
    \draw (exp_1) edge (protein);
    \draw (exp_2) edge (protein);
    \draw (exp_2) edge (unprepared);
    \draw (exp_3) edge (prepared);
    \draw (exp_3) edge (protein);
    \draw (exp_3) edge (unprepared);
    
    \node(serving_size) [below=of protein, color=Violet] {$\texttt{serving\_size}$};
    \node(products) [below=of unprepared, right=of serving_size, color=Violet] {$\texttt{products}$};
    \node(nutrients) [below=of prepared, left=of serving_size, color=Violet] {$\texttt{nutrients}$};
    
    % \node(dcd) [right=of products, color=Fuchsia] {$\texttt{derivation\_code\_description}$};
    
    % \node(products) [below=of protein, color=red] {$\texttt{products}$};
    % \node(serving_size) [below=of unprepared, right=of products, color=red] {$\texttt{serving\_size}$};
    % \node(nutrients) [below=of prepared, left=of products, color=red] {$\texttt{nutrients}$};
    
    \draw (prepared) edge (products);
    \draw (prepared) edge (serving_size);
    \draw (protein) edge (products);
    \draw (protein) edge (nutrients);
    \draw (unprepared) edge (products);
    \draw (unprepared) edge (serving_size);
    
    % \draw (exp_4) edge[out=135, in=135, looseness=1.5] (nutrients);
    % \draw (exp_4) edge[out=45, in=45, looseness=1.5] (products);
    
    % \draw (exp_4) edge[out=45, in=-50, looseness=4.5] (products);
    % \draw (exp_4) edge[out=120, in=200, looseness=4.5] (products);
    % \draw (exp_4) edge[bend right, looseness=1.5] (products);
    
    \node(sugars) [below=of serving_size, color=Orchid] {$\texttt{sugars}$};
    \node(cholesterol) [below=of nutrients, left=of sugars, color=Orchid] {$\texttt{cholesterol}$};
    \node(readytodrink) [below=of products, right=of sugars, color=Orchid] {$\texttt{readytodrink}$};
    
    \draw (readytodrink) edge (products);
    \draw (readytodrink) edge (serving_size);
    \draw (sugars) edge (products);
    \draw (sugars) edge (nutrients);
    \draw (cholesterol) edge (products);
    \draw (cholesterol) edge (nutrients);
    
    \draw (exp_4) edge[out=45, in=25, looseness=1.5] (readytodrink);
\end{tikzpicture}
    \captionof{figure}[Materialized Views Hierarchy - The BFPDB Dataset]{
    Materialized Views Hierarchy - The BFPDB Dataset.\\
    An edge connecting two tables $T_2 \rightarrow T_1$ means that there are tuples in $T_2$ that were directly created from tuples in $T_1$, by a query. For example, the materialized view $\texttt{exp}\sb\texttt{4}$ was directly created from tuples from the tables $\texttt{exp}\sb\texttt{2}$ and \texttt{readytodrink}.
    The text colors are intended as a visual aid, such that each lineage generation has a brighter color, the farther it is from the base relations.
    }\label{fig:materialized_views}

\end{figure}